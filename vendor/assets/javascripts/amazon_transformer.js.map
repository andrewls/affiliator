{"version":3,"sources":["../../../src/amazon_transformer.js"],"names":["AmazonTransformer","tag","base","suffix","link","asin","matches","match"],"mappings":";;;;;;;;;;IAAMA,iB;AACL,4BAAYC,GAAZ,EAAiB;AAAA;;AAChB,OAAKC,IAAL,GAAY,8BAAZ;AACA,OAAKC,MAAL,aAAsBF,GAAtB;AACA;;;;4BAESG,I,EAAM;AACf,OAAI,KAAKD,MAAL,KAAgB,gBAApB,EAAsC,OAAOC,IAAP;AACtC,OAAIC,OAAO,KAAKA,IAAL,CAAUD,IAAV,CAAX;AACA,OAAIC,IAAJ,EAAU,YAAU,KAAKH,IAAf,GAAsB,KAAKG,IAAL,CAAUD,IAAV,CAAtB,GAAwC,KAAKD,MAA7C,CAAV,KACK,OAAOC,IAAP;AACL;;;uBAEIA,I,EAAM;AACV,OAAIE,UAAUF,KAAKG,KAAL,CAAW,uBAAX,CAAd;AACA,OAAID,OAAJ,EAAa;AACZ,WAAOA,QAAQ,CAAR,EAAWC,KAAX,CAAiB,kBAAjB,EAAqC,CAArC,CAAP;AACA,IAFD,MAGK;AACJ,WAAO,IAAP;AACA;AACD;;;;;;kBAGaP,iB","file":"amazon_transformer.js","sourcesContent":["class AmazonTransformer {\n\tconstructor(tag) {\n\t\tthis.base = \"https://smile.amazon.com/dp/\"\n\t\tthis.suffix = `?tag=${tag}`\n\t}\n\n\ttransform(link) {\n\t\tif (this.suffix === '?tag=undefined') return link\n\t\tlet asin = this.asin(link)\n\t\tif (asin) return `${this.base}${this.asin(link)}${this.suffix}`\n\t\telse return link\n\t}\n\n\tasin(link) {\n\t\tlet matches = link.match(/\\/[A-Za-z0-9]{10}\\/?/g)\n\t\tif (matches) {\n\t\t\treturn matches[0].match(/[A-Za-z0-9]{10}/g)[0]\n\t\t}\n\t\telse {\n\t\t\treturn null\n\t\t}\n\t}\n}\n\nexport default AmazonTransformer;\n"]}